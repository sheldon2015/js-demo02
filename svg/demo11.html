<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>clip and mask</title>
    <style>
        .container {
            background: black;
            height: 80px;
            font-size: 20px;
        }

        .op {
            background: yellow;
            height: 20px;
            opacity: .2;
        }

        .co {
            background: rgb(54, 182, 18);
            height: 20px;
        }
    </style>
</head>

<body>
    <!--

  (0.2125 * red value + 0.7154 * green value + 0.0721 * blue value) * opacity   svg计算mask的透明度


  -->
    <svg height='800'>
      <defs>
<mask id="redmask" x="0" y="0" width="1" height="1"
maskContentUnits="objectBoundingBox">
<rect x="0" y="0" width="1" height="1" style="fill: #f00;"/>
</mask>
<mask id="greenmask" x="0" y="0" width="1" height="1"
maskContentUnits="objectBoundingBox">
<rect x="0" y="0" width="1" height="1" style="fill: #0f0;"/>
</mask>
<mask id="bluemask" x="0" y="0" width="1" height="1"
maskContentUnits="objectBoundingBox">
<rect x="0" y="0" width="1" height="1" style="fill: #00f;"/>
</mask>
<mask id="whitemask" x="0" y="0" width="1" height="1"
maskContentUnits="objectBoundingBox">
<rect x="0" y="0" width="1" height="1" style="fill: #fff;"/>
</mask>
</defs>
<!-- display the colors to show relative brightness (luminance) -->
<rect x="10" y="10" width="50" height="50" style="fill: #f00;"/>
<rect x="70" y="10" width="50" height="50" style="fill: #0f0;"/>
<rect x="130" y="10" width="50" height="50" style="fill: #00f;"/>
<rect x="190" y="10" width="50" height="50"
style="fill: #fff; stroke: black;"/>
<!-- background content to show transparency -->
<rect x="10" y="72" width="250" height="5" style="fill: yellow"/>
<rect x="10" y="112" width="250" height="5" style="fill: yellow"/>
<g style="mask: url(#redmask);
font-size: 14pt; text-anchor: middle;">
<circle cx="35" cy="115" r="25" style="fill: black;"/>
<text x="35" y="80">Red</text>
</g>
<g style="mask: url(#greenmask);
font-size: 14pt; text-anchor: middle;">
<circle cx="95" cy="115" r="25" style="fill: black;"/>
<text x="95" y="80">Green</text>
</g>
<g style="mask: url(#bluemask);
font-size: 14pt; text-anchor: middle;">
<circle cx="155" cy="115" r="25" style="fill: black;"/>
<text x="155" y="80">Blue</text>
</g>
<g style="mask: url(#whitemask);
font-size: 14pt; text-anchor: middle;">
<circle cx="215" cy="115" r="25" style="fill: black;"/>
<text x="215" y="80">White</text>
</g


    </svg>
    <div class='container'>
        <div class='op'>opacity</div>
        <div class='co'>color </div>
    </div>




</body>

</html>
